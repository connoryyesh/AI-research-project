{"ast":null,"code":"import React,{useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ManageResearchers=()=>{// State for researcher email and name\nconst[email,setEmail]=useState('');const[name,setName]=useState('');const[message,setMessage]=useState('');const[researcherCount,setResearcherCount]=useState(0);// Hardcode the projectId as \"1\" (adjust if needed)\nconst projectId=\"1\";// Base API URL for your Lambda\nconst baseApiUrl=`https://6tydwlnmqj.execute-api.us-east-2.amazonaws.com/projects/1/researchers`;// Add researcher via POST - compatible with your existing Lambda\nconst handleAddResearcher=async()=>{if(!name||!email){setMessage('Please enter both name and email');return;}try{const response=await fetch(baseApiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,name// No extra parameters that might confuse the existing Lambda\n})});if(!response.ok){throw new Error(`POST failed with status ${response.status}`);}const result=await response.json();// Update the local count of researchers added\nsetResearcherCount(prevCount=>prevCount+1);// Display success message\nsetMessage(`Researcher ${email} added to project ${projectId} (${researcherCount+1})`);// Clear the form fields after successful addition\nsetEmail('');setName('');}catch(error){console.error('Error adding researcher:',error);setMessage(`Error adding researcher: ${error.message}`);}};// Remove researcher via DELETE\nconst handleRemoveResearcher=async()=>{if(!email){setMessage('Please enter an email to remove');return;}try{// The DELETE endpoint is /projects/{projectId}/researchers/{researcherId}\nconst deleteUrl=`${baseApiUrl}/${email}`;const response=await fetch(deleteUrl,{method:'DELETE'});if(!response.ok){throw new Error(`DELETE failed with status ${response.status}`);}const result=await response.json();// Display success or custom message from the API\nsetMessage(result.message||'Researcher removed successfully');// Clear the email field after successful removal\nsetEmail('');}catch(error){console.error('Error removing researcher:',error);setMessage(`Error removing researcher: ${error.message}`);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Manage Researchers (Project ID: \",projectId,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem',color:'#666'},children:[\"Researchers added in this session: \",researcherCount]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Researcher Name\",value:name,onChange:e=>setName(e.target.value),style:{padding:'0.75rem',margin:'0.75rem 0',width:'100%',boxSizing:'border-box'}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter Researcher Email\",value:email,onChange:e=>setEmail(e.target.value),style:{padding:'0.75rem',margin:'0.75rem 0',width:'100%',boxSizing:'border-box'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',gap:'1rem',marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddResearcher,style:{padding:'0.75rem 1.25rem'},children:\"Add Researcher\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRemoveResearcher,style:{padding:'0.75rem 1.25rem'},children:\"Remove Researcher\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'1rem'},children:message})]});};export default ManageResearchers;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","ManageResearchers","email","setEmail","name","setName","message","setMessage","researcherCount","setResearcherCount","projectId","baseApiUrl","handleAddResearcher","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","result","json","prevCount","error","console","handleRemoveResearcher","deleteUrl","className","style","textAlign","children","fontSize","color","type","placeholder","value","onChange","e","target","padding","margin","width","boxSizing","display","justifyContent","gap","marginTop","onClick"],"sources":["/Users/varv/Downloads/CONNORR1/src/pages/ManageResearchers.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst ManageResearchers = () => {\n  // State for researcher email and name\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [message, setMessage] = useState('');\n  const [researcherCount, setResearcherCount] = useState(0);\n\n  // Hardcode the projectId as \"1\" (adjust if needed)\n  const projectId = \"1\";\n\n  // Base API URL for your Lambda\n  const baseApiUrl = `https://6tydwlnmqj.execute-api.us-east-2.amazonaws.com/projects/1/researchers`;\n\n  // Add researcher via POST - compatible with your existing Lambda\n  const handleAddResearcher = async () => {\n    if (!name || !email) {\n      setMessage('Please enter both name and email');\n      return;\n    }\n\n    try {\n      const response = await fetch(baseApiUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          email, \n          name\n          // No extra parameters that might confuse the existing Lambda\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`POST failed with status ${response.status}`);\n      }\n\n      const result = await response.json();\n      \n      // Update the local count of researchers added\n      setResearcherCount(prevCount => prevCount + 1);\n      \n      // Display success message\n      setMessage(`Researcher ${email} added to project ${projectId} (${researcherCount + 1})`);\n      \n      // Clear the form fields after successful addition\n      setEmail('');\n      setName('');\n    } catch (error) {\n      console.error('Error adding researcher:', error);\n      setMessage(`Error adding researcher: ${error.message}`);\n    }\n  };\n\n  // Remove researcher via DELETE\n  const handleRemoveResearcher = async () => {\n    if (!email) {\n      setMessage('Please enter an email to remove');\n      return;\n    }\n\n    try {\n      // The DELETE endpoint is /projects/{projectId}/researchers/{researcherId}\n      const deleteUrl = `${baseApiUrl}/${email}`;\n\n      const response = await fetch(deleteUrl, {\n        method: 'DELETE'\n      });\n\n      if (!response.ok) {\n        throw new Error(`DELETE failed with status ${response.status}`);\n      }\n\n      const result = await response.json();\n      \n      // Display success or custom message from the API\n      setMessage(result.message || 'Researcher removed successfully');\n      \n      // Clear the email field after successful removal\n      setEmail('');\n    } catch (error) {\n      console.error('Error removing researcher:', error);\n      setMessage(`Error removing researcher: ${error.message}`);\n    }\n  };\n\n  return (\n    <div className=\"container\" style={{ textAlign: 'center' }}>\n      <h2>Manage Researchers (Project ID: {projectId})</h2>\n      \n      <p style={{ fontSize: '0.9rem', color: '#666' }}>\n        Researchers added in this session: {researcherCount}\n      </p>\n\n      {/* Name Field */}\n      <input\n        type=\"text\"\n        placeholder=\"Enter Researcher Name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n        style={{\n          padding: '0.75rem',\n          margin: '0.75rem 0',\n          width: '100%',\n          boxSizing: 'border-box'\n        }}\n      />\n\n      {/* Email Field */}\n      <input\n        type=\"email\"\n        placeholder=\"Enter Researcher Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        style={{\n          padding: '0.75rem',\n          margin: '0.75rem 0',\n          width: '100%',\n          boxSizing: 'border-box'\n        }}\n      />\n\n      {/* Action Buttons */}\n      <div style={{ display: 'flex', justifyContent: 'center', gap: '1rem', marginTop: '1rem' }}>\n        <button onClick={handleAddResearcher} style={{ padding: '0.75rem 1.25rem' }}>\n          Add Researcher\n        </button>\n        <button onClick={handleRemoveResearcher} style={{ padding: '0.75rem 1.25rem' }}>\n          Remove Researcher\n        </button>\n      </div>\n\n      {/* Status Message */}\n      {message && <p style={{ marginTop: '1rem' }}>{message}</p>}\n    </div>\n  );\n};\n\nexport default ManageResearchers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}