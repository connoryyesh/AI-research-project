{"ast":null,"code":"// Updated Login.js with Sign-up functionality\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{signIn,signInWithRedirect,getCurrentUser,signUp,confirmSignUp}from'aws-amplify/auth';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const{isAuthenticated,user,checkAuthState}=useAuth();// States for login\nconst[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);// States for sign-up\nconst[showSignUp,setShowSignUp]=useState(false);const[signUpName,setSignUpName]=useState('');const[signUpEmail,setSignUpEmail]=useState('');const[signUpPassword,setSignUpPassword]=useState('');const[signUpConfirmPassword,setSignUpConfirmPassword]=useState('');const[signUpError,setSignUpError]=useState('');const[isSigningUp,setIsSigningUp]=useState(false);// States for confirmation\nconst[showConfirmation,setShowConfirmation]=useState(false);const[confirmationCode,setConfirmationCode]=useState('');const[confirmationError,setConfirmationError]=useState('');const[isConfirming,setIsConfirming]=useState(false);const[confirmationEmail,setConfirmationEmail]=useState('');// Redirect if already authenticated\nuseEffect(()=>{if(isAuthenticated&&user){// Redirect based on user role\nif(user.role==='admin'){navigate('/admin/dashboard');}else if(user.role==='researcher'){navigate('/researcher/dashboard');}else{navigate('/survey');}}},[isAuthenticated,user,navigate]);// Google SSO handler\nconst handleGoogleSignIn=async()=>{try{setIsLoading(true);setError('');await signInWithRedirect({provider:'Google'});// The page will redirect to Google login\n}catch(error){console.error('Error signing in with Google:',error);setError(`Sign-in error: ${error.message||'Failed to sign in with Google'}`);setIsLoading(false);}};// Email/Password login handler\nconst handleLogin=async()=>{try{setIsLoading(true);setError('');if(!email||!password){setError('Please enter both email and password');setIsLoading(false);return;}const{isSignedIn,nextStep}=await signIn({username:email,password});if(isSignedIn){// Update auth context\nawait checkAuthState();// Navigate will happen in the useEffect above\n}else if(nextStep){console.log('Additional auth step required:',nextStep);// If user needs to confirm their account\nif(nextStep.signInStep==='CONFIRM_SIGN_UP'){setConfirmationEmail(email);setShowConfirmation(true);setShowSignUp(false);setConfirmationError('Your account needs to be verified. Please check your email for a verification code.');}else{setError(`Additional step required: ${nextStep.signInStep}`);}setIsLoading(false);}}catch(error){console.error('Error signing in:',error);setError(error.message||'Invalid email or password. Please try again.');setIsLoading(false);}};// Handle form submission for login\nconst handleLoginSubmit=e=>{e.preventDefault();handleLogin();};// Handle sign-up form submission\nconst handleSignUp=async e=>{e.preventDefault();// Validate form\nif(!signUpName||!signUpEmail||!signUpPassword||!signUpConfirmPassword){setSignUpError('All fields are required');return;}if(signUpPassword!==signUpConfirmPassword){setSignUpError('Passwords do not match');return;}if(signUpPassword.length<8){setSignUpError('Password must be at least 8 characters long');return;}try{setIsSigningUp(true);setSignUpError('');// Sign up the user\nconst{isSignUpComplete,userId,nextStep}=await signUp({username:signUpEmail,password:signUpPassword,options:{userAttributes:{email:signUpEmail,name:signUpName},autoSignIn:false// Disable auto sign-in\n}});console.log('Sign up result:',{isSignUpComplete,userId,nextStep});if(!isSignUpComplete&&nextStep.signUpStep==='CONFIRM_SIGN_UP'){// User needs to confirm their account\nsetConfirmationEmail(signUpEmail);setShowConfirmation(true);setShowSignUp(false);setSignUpEmail('');setSignUpPassword('');setSignUpConfirmPassword('');}else{// Sign up completed, show login form\nsetShowSignUp(false);setEmail(signUpEmail);setPassword('');setError('Account created successfully! You can now login.');}}catch(error){console.error('Error signing up:',error);setSignUpError(error.message||'Failed to create account. Please try again.');}finally{setIsSigningUp(false);}};// Handle confirmation code submission\nconst handleConfirmation=async e=>{e.preventDefault();if(!confirmationCode){setConfirmationError('Please enter the verification code');return;}try{setIsConfirming(true);setConfirmationError('');// Confirm sign up\nawait confirmSignUp({username:confirmationEmail,confirmationCode});// Show login form with success message\nsetShowConfirmation(false);setEmail(confirmationEmail);setPassword('');setError('Account verified successfully! You can now login.');}catch(error){console.error('Error confirming sign up:',error);setConfirmationError(error.message||'Invalid verification code. Please try again.');}finally{setIsConfirming(false);}};// Common styles\nconst containerStyle={maxWidth:'400px',margin:'3rem auto',textAlign:'center'};const inputStyle={padding:'0.75rem',margin:'0.75rem 0',width:'100%',boxSizing:'border-box',borderRadius:'4px',border:'1px solid #ddd'};const buttonStyle={width:'100%',padding:'0.75rem',marginTop:'1rem',background:'linear-gradient(135deg, #500000, #800000)',color:'#fff',border:'none',borderRadius:'8px',cursor:'pointer'};const linkStyle={color:'#500000',cursor:'pointer',textDecoration:'underline',display:'inline-block',margin:'1rem 0'};// Show confirmation form\nif(showConfirmation){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:containerStyle,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Verify Your Account\"}),/*#__PURE__*/_jsx(\"p\",{children:\"A verification code has been sent to your email. Please enter it below to verify your account.\"}),confirmationError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',marginTop:'1rem'},children:confirmationError}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleConfirmation,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Verification Code\",value:confirmationCode,onChange:e=>setConfirmationCode(e.target.value),style:inputStyle}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isConfirming,style:buttonStyle,children:isConfirming?'Verifying...':'Verify Account'})]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'1rem'},children:/*#__PURE__*/_jsx(\"span\",{onClick:()=>{setShowConfirmation(false);setShowSignUp(false);},style:linkStyle,children:\"Back to Login\"})})]});}// Show sign-up form\nif(showSignUp){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:containerStyle,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create an Account\"}),signUpError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',marginTop:'1rem'},children:signUpError}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSignUp,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full Name\",value:signUpName,onChange:e=>setSignUpName(e.target.value),style:inputStyle}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email Address\",value:signUpEmail,onChange:e=>setSignUpEmail(e.target.value),style:inputStyle}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:signUpPassword,onChange:e=>setSignUpPassword(e.target.value),style:inputStyle}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",value:signUpConfirmPassword,onChange:e=>setSignUpConfirmPassword(e.target.value),style:inputStyle}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSigningUp,style:buttonStyle,children:isSigningUp?'Creating Account...':'Sign Up'})]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'1rem'},children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"span\",{onClick:()=>setShowSignUp(false),style:linkStyle,children:\"Sign In\"})]})]});}// Login form (default)\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:containerStyle,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoogleSignIn,style:{display:'flex',alignItems:'center',justifyContent:'center',width:'100%',padding:'0.75rem',marginBottom:'1rem',border:'none',borderRadius:'8px',backgroundColor:'#500000',color:'#fff',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://www.svgrepo.com/show/475656/google-color.svg\",alt:\"Google Logo\",style:{width:'20px',verticalAlign:'middle'}}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontWeight:'bold'},children:\"Sign in with Google\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'1rem 0',fontWeight:'600'},children:\"\\u2014 OR \\u2014\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',marginTop:'1rem'},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLoginSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter your email\",value:email,onChange:e=>setEmail(e.target.value),style:inputStyle}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your password\",value:password,onChange:e=>setPassword(e.target.value),style:inputStyle}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,style:buttonStyle,children:isLoading?'Signing in...':'Login'})]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'1rem'},children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(\"span\",{onClick:()=>setShowSignUp(true),style:linkStyle,children:\"Sign Up\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","signIn","signInWithRedirect","getCurrentUser","signUp","confirmSignUp","useAuth","jsx","_jsx","jsxs","_jsxs","Login","navigate","isAuthenticated","user","checkAuthState","email","setEmail","password","setPassword","error","setError","isLoading","setIsLoading","showSignUp","setShowSignUp","signUpName","setSignUpName","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signUpConfirmPassword","setSignUpConfirmPassword","signUpError","setSignUpError","isSigningUp","setIsSigningUp","showConfirmation","setShowConfirmation","confirmationCode","setConfirmationCode","confirmationError","setConfirmationError","isConfirming","setIsConfirming","confirmationEmail","setConfirmationEmail","role","handleGoogleSignIn","provider","console","message","handleLogin","isSignedIn","nextStep","username","log","signInStep","handleLoginSubmit","e","preventDefault","handleSignUp","length","isSignUpComplete","userId","options","userAttributes","name","autoSignIn","signUpStep","handleConfirmation","containerStyle","maxWidth","margin","textAlign","inputStyle","padding","width","boxSizing","borderRadius","border","buttonStyle","marginTop","background","color","cursor","linkStyle","textDecoration","display","className","style","children","onSubmit","type","placeholder","value","onChange","target","disabled","onClick","alignItems","justifyContent","marginBottom","backgroundColor","src","alt","verticalAlign","marginLeft","fontWeight"],"sources":["/Users/varv/Downloads/CONNORR1/src/pages/Login.js"],"sourcesContent":["// Updated Login.js with Sign-up functionality\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { signIn, signInWithRedirect, getCurrentUser, signUp, confirmSignUp } from 'aws-amplify/auth';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const { isAuthenticated, user, checkAuthState } = useAuth();\n  \n  // States for login\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  \n  // States for sign-up\n  const [showSignUp, setShowSignUp] = useState(false);\n  const [signUpName, setSignUpName] = useState('');\n  const [signUpEmail, setSignUpEmail] = useState('');\n  const [signUpPassword, setSignUpPassword] = useState('');\n  const [signUpConfirmPassword, setSignUpConfirmPassword] = useState('');\n  const [signUpError, setSignUpError] = useState('');\n  const [isSigningUp, setIsSigningUp] = useState(false);\n  \n  // States for confirmation\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [confirmationCode, setConfirmationCode] = useState('');\n  const [confirmationError, setConfirmationError] = useState('');\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [confirmationEmail, setConfirmationEmail] = useState('');\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      // Redirect based on user role\n      if (user.role === 'admin') {\n        navigate('/admin/dashboard');\n      } else if (user.role === 'researcher') {\n        navigate('/researcher/dashboard');\n      } else {\n        navigate('/survey');\n      }\n    }\n  }, [isAuthenticated, user, navigate]);\n  \n  // Google SSO handler\n  const handleGoogleSignIn = async () => {\n    try {\n      setIsLoading(true);\n      setError('');\n      \n      await signInWithRedirect({\n        provider: 'Google'\n      });\n      \n      // The page will redirect to Google login\n    } catch (error) {\n      console.error('Error signing in with Google:', error);\n      setError(`Sign-in error: ${error.message || 'Failed to sign in with Google'}`);\n      setIsLoading(false);\n    }\n  };\n    \n  // Email/Password login handler\n  const handleLogin = async () => {\n    try {\n      setIsLoading(true);\n      setError('');\n      \n      if (!email || !password) {\n        setError('Please enter both email and password');\n        setIsLoading(false);\n        return;\n      }\n\n      const { isSignedIn, nextStep } = await signIn({ \n        username: email, \n        password \n      });\n      \n      if (isSignedIn) {\n        // Update auth context\n        await checkAuthState();\n        // Navigate will happen in the useEffect above\n      } else if (nextStep) {\n        console.log('Additional auth step required:', nextStep);\n        \n        // If user needs to confirm their account\n        if (nextStep.signInStep === 'CONFIRM_SIGN_UP') {\n          setConfirmationEmail(email);\n          setShowConfirmation(true);\n          setShowSignUp(false);\n          setConfirmationError('Your account needs to be verified. Please check your email for a verification code.');\n        } else {\n          setError(`Additional step required: ${nextStep.signInStep}`);\n        }\n        setIsLoading(false);\n      }\n    } catch (error) {\n      console.error('Error signing in:', error);\n      setError(error.message || 'Invalid email or password. Please try again.');\n      setIsLoading(false);\n    }\n  };\n  \n  // Handle form submission for login\n  const handleLoginSubmit = (e) => {\n    e.preventDefault();\n    handleLogin();\n  };\n  \n  // Handle sign-up form submission\n  const handleSignUp = async (e) => {\n    e.preventDefault();\n    \n    // Validate form\n    if (!signUpName || !signUpEmail || !signUpPassword || !signUpConfirmPassword) {\n      setSignUpError('All fields are required');\n      return;\n    }\n    \n    if (signUpPassword !== signUpConfirmPassword) {\n      setSignUpError('Passwords do not match');\n      return;\n    }\n    \n    if (signUpPassword.length < 8) {\n      setSignUpError('Password must be at least 8 characters long');\n      return;\n    }\n    \n    try {\n      setIsSigningUp(true);\n      setSignUpError('');\n      \n      // Sign up the user\n      const { isSignUpComplete, userId, nextStep } = await signUp({\n        username: signUpEmail,\n        password: signUpPassword,\n        options: {\n          userAttributes: {\n            email: signUpEmail,\n            name: signUpName\n          },\n          autoSignIn: false // Disable auto sign-in\n        }\n      });\n      \n      console.log('Sign up result:', { isSignUpComplete, userId, nextStep });\n      \n      if (!isSignUpComplete && nextStep.signUpStep === 'CONFIRM_SIGN_UP') {\n        // User needs to confirm their account\n        setConfirmationEmail(signUpEmail);\n        setShowConfirmation(true);\n        setShowSignUp(false);\n        setSignUpEmail('');\n        setSignUpPassword('');\n        setSignUpConfirmPassword('');\n      } else {\n        // Sign up completed, show login form\n        setShowSignUp(false);\n        setEmail(signUpEmail);\n        setPassword(''); \n        setError('Account created successfully! You can now login.');\n      }\n    } catch (error) {\n      console.error('Error signing up:', error);\n      setSignUpError(error.message || 'Failed to create account. Please try again.');\n    } finally {\n      setIsSigningUp(false);\n    }\n  };\n  \n  // Handle confirmation code submission\n  const handleConfirmation = async (e) => {\n    e.preventDefault();\n    \n    if (!confirmationCode) {\n      setConfirmationError('Please enter the verification code');\n      return;\n    }\n    \n    try {\n      setIsConfirming(true);\n      setConfirmationError('');\n      \n      // Confirm sign up\n      await confirmSignUp({\n        username: confirmationEmail,\n        confirmationCode\n      });\n      \n      // Show login form with success message\n      setShowConfirmation(false);\n      setEmail(confirmationEmail);\n      setPassword('');\n      setError('Account verified successfully! You can now login.');\n    } catch (error) {\n      console.error('Error confirming sign up:', error);\n      setConfirmationError(error.message || 'Invalid verification code. Please try again.');\n    } finally {\n      setIsConfirming(false);\n    }\n  };\n  \n  // Common styles\n  const containerStyle = {\n    maxWidth: '400px',\n    margin: '3rem auto',\n    textAlign: 'center'\n  };\n  \n  const inputStyle = {\n    padding: '0.75rem',\n    margin: '0.75rem 0',\n    width: '100%',\n    boxSizing: 'border-box',\n    borderRadius: '4px',\n    border: '1px solid #ddd'\n  };\n  \n  const buttonStyle = {\n    width: '100%',\n    padding: '0.75rem',\n    marginTop: '1rem',\n    background: 'linear-gradient(135deg, #500000, #800000)',\n    color: '#fff',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer'\n  };\n  \n  const linkStyle = {\n    color: '#500000',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n    display: 'inline-block',\n    margin: '1rem 0'\n  };\n  \n  // Show confirmation form\n  if (showConfirmation) {\n    return (\n      <div className=\"container\" style={containerStyle}>\n        <h2>Verify Your Account</h2>\n        <p>A verification code has been sent to your email. Please enter it below to verify your account.</p>\n        \n        {confirmationError && <p style={{ color: 'red', marginTop: '1rem' }}>{confirmationError}</p>}\n        \n        <form onSubmit={handleConfirmation}>\n          <input\n            type=\"text\"\n            placeholder=\"Verification Code\"\n            value={confirmationCode}\n            onChange={(e) => setConfirmationCode(e.target.value)}\n            style={inputStyle}\n          />\n          \n          <button\n            type=\"submit\"\n            disabled={isConfirming}\n            style={buttonStyle}\n          >\n            {isConfirming ? 'Verifying...' : 'Verify Account'}\n          </button>\n        </form>\n        \n        <p style={{ marginTop: '1rem' }}>\n          <span \n            onClick={() => {\n              setShowConfirmation(false);\n              setShowSignUp(false);\n            }}\n            style={linkStyle}\n          >\n            Back to Login\n          </span>\n        </p>\n      </div>\n    );\n  }\n  \n  // Show sign-up form\n  if (showSignUp) {\n    return (\n      <div className=\"container\" style={containerStyle}>\n        <h2>Create an Account</h2>\n        \n        {signUpError && <p style={{ color: 'red', marginTop: '1rem' }}>{signUpError}</p>}\n        \n        <form onSubmit={handleSignUp}>\n          <input\n            type=\"text\"\n            placeholder=\"Full Name\"\n            value={signUpName}\n            onChange={(e) => setSignUpName(e.target.value)}\n            style={inputStyle}\n          />\n          \n          <input\n            type=\"email\"\n            placeholder=\"Email Address\"\n            value={signUpEmail}\n            onChange={(e) => setSignUpEmail(e.target.value)}\n            style={inputStyle}\n          />\n          \n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={signUpPassword}\n            onChange={(e) => setSignUpPassword(e.target.value)}\n            style={inputStyle}\n          />\n          \n          <input\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            value={signUpConfirmPassword}\n            onChange={(e) => setSignUpConfirmPassword(e.target.value)}\n            style={inputStyle}\n          />\n          \n          <button\n            type=\"submit\"\n            disabled={isSigningUp}\n            style={buttonStyle}\n          >\n            {isSigningUp ? 'Creating Account...' : 'Sign Up'}\n          </button>\n        </form>\n        \n        <p style={{ marginTop: '1rem' }}>\n          Already have an account?{' '}\n          <span \n            onClick={() => setShowSignUp(false)}\n            style={linkStyle}\n          >\n            Sign In\n          </span>\n        </p>\n      </div>\n    );\n  }\n  \n  // Login form (default)\n  return (\n    <div className=\"container\" style={containerStyle}>\n      <h2>Sign In</h2>\n\n      {/* Google Sign-In Button */}\n      <button\n        onClick={handleGoogleSignIn}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          width: '100%',\n          padding: '0.75rem',\n          marginBottom: '1rem',\n          border: 'none',\n          borderRadius: '8px',\n          backgroundColor: '#500000',\n          color: '#fff',\n          cursor: 'pointer'\n        }}\n      >\n        <img\n          src=\"https://www.svgrepo.com/show/475656/google-color.svg\"\n          alt=\"Google Logo\"\n          style={{ width: '20px', verticalAlign: 'middle' }}\n        />\n        <span style={{ marginLeft: '8px', fontWeight: 'bold' }}>\n          Sign in with Google\n        </span>\n      </button>\n\n      <p style={{ margin: '1rem 0', fontWeight: '600' }}>— OR —</p>\n\n      {error && <p style={{ color: 'red', marginTop: '1rem' }}>{error}</p>}\n\n      <form onSubmit={handleLoginSubmit}>\n        <input \n          type=\"email\" \n          placeholder=\"Enter your email\" \n          value={email} \n          onChange={(e) => setEmail(e.target.value)} \n          style={inputStyle}\n        />\n        <input \n          type=\"password\" \n          placeholder=\"Enter your password\" \n          value={password} \n          onChange={(e) => setPassword(e.target.value)} \n          style={inputStyle}\n        />\n        \n        <button \n          type=\"submit\"\n          disabled={isLoading}\n          style={buttonStyle}\n        >\n          {isLoading ? 'Signing in...' : 'Login'}\n        </button>\n      </form>\n      \n      <p style={{ marginTop: '1rem' }}>\n        Don't have an account?{' '}\n        <span \n          onClick={() => setShowSignUp(true)}\n          style={linkStyle}\n        >\n          Sign Up\n        </span>\n      </p>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}