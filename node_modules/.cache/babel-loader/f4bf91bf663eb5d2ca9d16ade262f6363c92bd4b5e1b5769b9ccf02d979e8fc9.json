{"ast":null,"code":"var _jsxFileName = \"/Users/varv/Downloads/wf 4/src/pages/ManageResearchers.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManageResearchers = () => {\n  _s();\n  // State for researcher email and name\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [message, setMessage] = useState('');\n  const [researcherCount, setResearcherCount] = useState(0);\n\n  // Hardcode the projectId as \"1\" (adjust if needed)\n  const projectId = \"1\";\n\n  // Base API URL for your Lambda\n  const baseApiUrl = `https://6tydwlnmqj.execute-api.us-east-2.amazonaws.com/projects/1/researchers`;\n\n  // Add researcher via POST - compatible with your existing Lambda\n  const handleAddResearcher = async () => {\n    if (!name || !email) {\n      setMessage('Please enter both name and email');\n      return;\n    }\n    try {\n      const response = await fetch(baseApiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          name\n          // No extra parameters that might confuse the existing Lambda\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`POST failed with status ${response.status}`);\n      }\n      const result = await response.json();\n\n      // Update the local count of researchers added\n      setResearcherCount(prevCount => prevCount + 1);\n\n      // Display success message\n      setMessage(`Researcher ${email} added to project ${projectId} (${researcherCount + 1})`);\n\n      // Clear the form fields after successful addition\n      setEmail('');\n      setName('');\n    } catch (error) {\n      console.error('Error adding researcher:', error);\n      setMessage(`Error adding researcher: ${error.message}`);\n    }\n  };\n\n  // Remove researcher via DELETE\n  const handleRemoveResearcher = async () => {\n    if (!email) {\n      setMessage('Please enter an email to remove');\n      return;\n    }\n    try {\n      // The DELETE endpoint is /projects/{projectId}/researchers/{researcherId}\n      const deleteUrl = `${baseApiUrl}/${email}`;\n      const response = await fetch(deleteUrl, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        throw new Error(`DELETE failed with status ${response.status}`);\n      }\n      const result = await response.json();\n\n      // Display success or custom message from the API\n      setMessage(result.message || 'Researcher removed successfully');\n\n      // Clear the email field after successful removal\n      setEmail('');\n    } catch (error) {\n      console.error('Error removing researcher:', error);\n      setMessage(`Error removing researcher: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Manage Researchers (Project ID: \", projectId, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: '0.9rem',\n        color: '#666'\n      },\n      children: [\"Researchers added in this session: \", researcherCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter Researcher Name\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      style: {\n        padding: '0.75rem',\n        margin: '0.75rem 0',\n        width: '100%',\n        boxSizing: 'border-box'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      placeholder: \"Enter Researcher Email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      style: {\n        padding: '0.75rem',\n        margin: '0.75rem 0',\n        width: '100%',\n        boxSizing: 'border-box'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        gap: '1rem',\n        marginTop: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddResearcher,\n        style: {\n          padding: '0.75rem 1.25rem'\n        },\n        children: \"Add Researcher\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRemoveResearcher,\n        style: {\n          padding: '0.75rem 1.25rem'\n        },\n        children: \"Remove Researcher\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '1rem'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageResearchers, \"b+XNyNJrtwzZnUKOJVt2Fbd2fao=\");\n_c = ManageResearchers;\nexport default ManageResearchers;\nvar _c;\n$RefreshReg$(_c, \"ManageResearchers\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ManageResearchers","_s","email","setEmail","name","setName","message","setMessage","researcherCount","setResearcherCount","projectId","baseApiUrl","handleAddResearcher","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","result","json","prevCount","error","console","handleRemoveResearcher","deleteUrl","className","style","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","type","placeholder","value","onChange","e","target","padding","margin","width","boxSizing","display","justifyContent","gap","marginTop","onClick","_c","$RefreshReg$"],"sources":["/Users/varv/Downloads/wf 4/src/pages/ManageResearchers.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst ManageResearchers = () => {\n  // State for researcher email and name\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [message, setMessage] = useState('');\n  const [researcherCount, setResearcherCount] = useState(0);\n\n  // Hardcode the projectId as \"1\" (adjust if needed)\n  const projectId = \"1\";\n\n  // Base API URL for your Lambda\n  const baseApiUrl = `https://6tydwlnmqj.execute-api.us-east-2.amazonaws.com/projects/1/researchers`;\n\n  // Add researcher via POST - compatible with your existing Lambda\n  const handleAddResearcher = async () => {\n    if (!name || !email) {\n      setMessage('Please enter both name and email');\n      return;\n    }\n\n    try {\n      const response = await fetch(baseApiUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          email, \n          name\n          // No extra parameters that might confuse the existing Lambda\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`POST failed with status ${response.status}`);\n      }\n\n      const result = await response.json();\n      \n      // Update the local count of researchers added\n      setResearcherCount(prevCount => prevCount + 1);\n      \n      // Display success message\n      setMessage(`Researcher ${email} added to project ${projectId} (${researcherCount + 1})`);\n      \n      // Clear the form fields after successful addition\n      setEmail('');\n      setName('');\n    } catch (error) {\n      console.error('Error adding researcher:', error);\n      setMessage(`Error adding researcher: ${error.message}`);\n    }\n  };\n\n  // Remove researcher via DELETE\n  const handleRemoveResearcher = async () => {\n    if (!email) {\n      setMessage('Please enter an email to remove');\n      return;\n    }\n\n    try {\n      // The DELETE endpoint is /projects/{projectId}/researchers/{researcherId}\n      const deleteUrl = `${baseApiUrl}/${email}`;\n\n      const response = await fetch(deleteUrl, {\n        method: 'DELETE'\n      });\n\n      if (!response.ok) {\n        throw new Error(`DELETE failed with status ${response.status}`);\n      }\n\n      const result = await response.json();\n      \n      // Display success or custom message from the API\n      setMessage(result.message || 'Researcher removed successfully');\n      \n      // Clear the email field after successful removal\n      setEmail('');\n    } catch (error) {\n      console.error('Error removing researcher:', error);\n      setMessage(`Error removing researcher: ${error.message}`);\n    }\n  };\n\n  return (\n    <div className=\"container\" style={{ textAlign: 'center' }}>\n      <h2>Manage Researchers (Project ID: {projectId})</h2>\n      \n      <p style={{ fontSize: '0.9rem', color: '#666' }}>\n        Researchers added in this session: {researcherCount}\n      </p>\n\n      {/* Name Field */}\n      <input\n        type=\"text\"\n        placeholder=\"Enter Researcher Name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n        style={{\n          padding: '0.75rem',\n          margin: '0.75rem 0',\n          width: '100%',\n          boxSizing: 'border-box'\n        }}\n      />\n\n      {/* Email Field */}\n      <input\n        type=\"email\"\n        placeholder=\"Enter Researcher Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        style={{\n          padding: '0.75rem',\n          margin: '0.75rem 0',\n          width: '100%',\n          boxSizing: 'border-box'\n        }}\n      />\n\n      {/* Action Buttons */}\n      <div style={{ display: 'flex', justifyContent: 'center', gap: '1rem', marginTop: '1rem' }}>\n        <button onClick={handleAddResearcher} style={{ padding: '0.75rem 1.25rem' }}>\n          Add Researcher\n        </button>\n        <button onClick={handleRemoveResearcher} style={{ padding: '0.75rem 1.25rem' }}>\n          Remove Researcher\n        </button>\n      </div>\n\n      {/* Status Message */}\n      {message && <p style={{ marginTop: '1rem' }}>{message}</p>}\n    </div>\n  );\n};\n\nexport default ManageResearchers;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B;EACA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACW,eAAe,EAAEC,kBAAkB,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;;EAEzD;EACA,MAAMa,SAAS,GAAG,GAAG;;EAErB;EACA,MAAMC,UAAU,GAAG,+EAA+E;;EAElG;EACA,MAAMC,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI,CAACR,IAAI,IAAI,CAACF,KAAK,EAAE;MACnBK,UAAU,CAAC,kCAAkC,CAAC;MAC9C;IACF;IAEA,IAAI;MACF,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACH,UAAU,EAAE;QACvCI,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBjB,KAAK;UACLE;UACA;QACF,CAAC;MACH,CAAC,CAAC;MAEF,IAAI,CAACS,QAAQ,CAACO,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,2BAA2BR,QAAQ,CAACS,MAAM,EAAE,CAAC;MAC/D;MAEA,MAAMC,MAAM,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;;MAEpC;MACAf,kBAAkB,CAACgB,SAAS,IAAIA,SAAS,GAAG,CAAC,CAAC;;MAE9C;MACAlB,UAAU,CAAC,cAAcL,KAAK,qBAAqBQ,SAAS,KAAKF,eAAe,GAAG,CAAC,GAAG,CAAC;;MAExF;MACAL,QAAQ,CAAC,EAAE,CAAC;MACZE,OAAO,CAAC,EAAE,CAAC;IACb,CAAC,CAAC,OAAOqB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDnB,UAAU,CAAC,4BAA4BmB,KAAK,CAACpB,OAAO,EAAE,CAAC;IACzD;EACF,CAAC;;EAED;EACA,MAAMsB,sBAAsB,GAAG,MAAAA,CAAA,KAAY;IACzC,IAAI,CAAC1B,KAAK,EAAE;MACVK,UAAU,CAAC,iCAAiC,CAAC;MAC7C;IACF;IAEA,IAAI;MACF;MACA,MAAMsB,SAAS,GAAG,GAAGlB,UAAU,IAAIT,KAAK,EAAE;MAE1C,MAAMW,QAAQ,GAAG,MAAMC,KAAK,CAACe,SAAS,EAAE;QACtCd,MAAM,EAAE;MACV,CAAC,CAAC;MAEF,IAAI,CAACF,QAAQ,CAACO,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,6BAA6BR,QAAQ,CAACS,MAAM,EAAE,CAAC;MACjE;MAEA,MAAMC,MAAM,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;;MAEpC;MACAjB,UAAU,CAACgB,MAAM,CAACjB,OAAO,IAAI,iCAAiC,CAAC;;MAE/D;MACAH,QAAQ,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,OAAOuB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDnB,UAAU,CAAC,8BAA8BmB,KAAK,CAACpB,OAAO,EAAE,CAAC;IAC3D;EACF,CAAC;EAED,oBACEP,OAAA;IAAK+B,SAAS,EAAC,WAAW;IAACC,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAS,CAAE;IAAAC,QAAA,gBACxDlC,OAAA;MAAAkC,QAAA,GAAI,kCAAgC,EAACvB,SAAS,EAAC,GAAC;IAAA;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAErDtC,OAAA;MAAGgC,KAAK,EAAE;QAAEO,QAAQ,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAN,QAAA,GAAC,qCACZ,EAACzB,eAAe;IAAA;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClD,CAAC,eAGJtC,OAAA;MACEyC,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC,uBAAuB;MACnCC,KAAK,EAAEtC,IAAK;MACZuC,QAAQ,EAAGC,CAAC,IAAKvC,OAAO,CAACuC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MACzCX,KAAK,EAAE;QACLe,OAAO,EAAE,SAAS;QAClBC,MAAM,EAAE,WAAW;QACnBC,KAAK,EAAE,MAAM;QACbC,SAAS,EAAE;MACb;IAAE;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGFtC,OAAA;MACEyC,IAAI,EAAC,OAAO;MACZC,WAAW,EAAC,wBAAwB;MACpCC,KAAK,EAAExC,KAAM;MACbyC,QAAQ,EAAGC,CAAC,IAAKzC,QAAQ,CAACyC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC1CX,KAAK,EAAE;QACLe,OAAO,EAAE,SAAS;QAClBC,MAAM,EAAE,WAAW;QACnBC,KAAK,EAAE,MAAM;QACbC,SAAS,EAAE;MACb;IAAE;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGFtC,OAAA;MAAKgC,KAAK,EAAE;QAAEmB,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,QAAQ;QAAEC,GAAG,EAAE,MAAM;QAAEC,SAAS,EAAE;MAAO,CAAE;MAAApB,QAAA,gBACxFlC,OAAA;QAAQuD,OAAO,EAAE1C,mBAAoB;QAACmB,KAAK,EAAE;UAAEe,OAAO,EAAE;QAAkB,CAAE;QAAAb,QAAA,EAAC;MAE7E;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTtC,OAAA;QAAQuD,OAAO,EAAE1B,sBAAuB;QAACG,KAAK,EAAE;UAAEe,OAAO,EAAE;QAAkB,CAAE;QAAAb,QAAA,EAAC;MAEhF;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGL/B,OAAO,iBAAIP,OAAA;MAAGgC,KAAK,EAAE;QAAEsB,SAAS,EAAE;MAAO,CAAE;MAAApB,QAAA,EAAE3B;IAAO;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvD,CAAC;AAEV,CAAC;AAACpC,EAAA,CAtIID,iBAAiB;AAAAuD,EAAA,GAAjBvD,iBAAiB;AAwIvB,eAAeA,iBAAiB;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}